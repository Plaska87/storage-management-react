.grid-container {
  flex: 1;
  overflow: auto; /* Allow both horizontal and vertical scrolling */
  display: flex;
  flex-direction: column;
  min-height: 0;
  border: 2px solid rgba(100, 181, 246, 0.3);
  border-radius: 8px;
  background: rgba(15, 52, 96, 0.1);
}

.grid-header {
  display: grid;
  grid-template-columns: 80px repeat(13, 200px); /* Fixed width for better visibility */
  column-gap: 12px; /* Light blue column separation */
  row-gap: 8px;
  margin-bottom: 16px;
  flex-shrink: 0;
  min-width: max-content;
  padding: 8px;
  background: rgba(15, 52, 96, 0.2);
  border-bottom: 2px solid rgba(100, 181, 246, 0.3);
  position: sticky;
  top: 0;
  z-index: 10;
  /* Add light blue background for column gaps */
  background-image: repeating-linear-gradient(
    to right,
    transparent 0px,
    transparent 80px,
    rgba(100, 181, 246, 0.3) 80px,
    rgba(100, 181, 246, 0.3) 92px,
    transparent 92px,
    transparent 292px,
    rgba(100, 181, 246, 0.3) 292px,
    rgba(100, 181, 246, 0.3) 304px,
    transparent 304px,
    transparent 504px,
    rgba(100, 181, 246, 0.3) 504px,
    rgba(100, 181, 246, 0.3) 516px,
    transparent 516px,
    transparent 716px,
    rgba(100, 181, 246, 0.3) 716px,
    rgba(100, 181, 246, 0.3) 728px,
    transparent 728px,
    transparent 928px,
    rgba(100, 181, 246, 0.3) 928px,
    rgba(100, 181, 246, 0.3) 940px,
    transparent 940px,
    transparent 1140px,
    rgba(100, 181, 246, 0.3) 1140px,
    rgba(100, 181, 246, 0.3) 1152px,
    transparent 1152px,
    transparent 1352px,
    rgba(100, 181, 246, 0.3) 1352px,
    rgba(100, 181, 246, 0.3) 1364px,
    transparent 1364px,
    transparent 1564px,
    rgba(100, 181, 246, 0.3) 1564px,
    rgba(100, 181, 246, 0.3) 1576px,
    transparent 1576px,
    transparent 1776px,
    rgba(100, 181, 246, 0.3) 1776px,
    rgba(100, 181, 246, 0.3) 1788px,
    transparent 1788px,
    transparent 1988px,
    rgba(100, 181, 246, 0.3) 1988px,
    rgba(100, 181, 246, 0.3) 2000px,
    transparent 2000px,
    transparent 2200px,
    rgba(100, 181, 246, 0.3) 2200px,
    rgba(100, 181, 246, 0.3) 2212px,
    transparent 2212px,
    transparent 2412px,
    rgba(100, 181, 246, 0.3) 2412px,
    rgba(100, 181, 246, 0.3) 2424px,
    transparent 2424px,
    transparent 2624px,
    rgba(100, 181, 246, 0.3) 2624px,
    rgba(100, 181, 246, 0.3) 2636px
  );
  background-size: 2636px 100%;
}

.corner-header {
  background: rgba(15, 52, 96, 0.9);
  border: 1px solid rgba(100, 181, 246, 0.3);
  border-radius: 6px;
  min-height: 32px;
}

.col-header {
  background: rgba(15, 52, 96, 0.9);
  color: #64b5f6;
  padding: 12px;
  text-align: center;
  font-weight: bold;
  border-radius: 8px;
  font-size: 16px;
  border: 2px solid rgba(100, 181, 246, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 40px;
  width: 200px; /* Fixed width */
  transition: all 0.3s ease;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.col-header:hover {
  background: rgba(100, 181, 246, 0.2);
  transform: translateY(-1px);
}

.storage-grid {
  display: grid;
  grid-template-columns: 80px repeat(13, 200px); /* Fixed width columns for consistency */
  column-gap: 12px; /* Light blue column separation */
  row-gap: 16px; /* Orange row separation */
  flex: 1;
  overflow: visible; /* Let parent handle scrolling */
  min-width: max-content;
  padding: 8px;
  /* Colored backgrounds for visual separation */
  background: rgba(15, 52, 96, 0.05);
  position: relative;
}

/* Light blue column separators */
.storage-grid::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    to right,
    transparent 0px,
    transparent 80px,
    rgba(100, 181, 246, 0.4) 80px,
    rgba(100, 181, 246, 0.4) 92px,
    transparent 92px,
    transparent 292px,
    rgba(100, 181, 246, 0.4) 292px,
    rgba(100, 181, 246, 0.4) 304px,
    transparent 304px,
    transparent 504px,
    rgba(100, 181, 246, 0.4) 504px,
    rgba(100, 181, 246, 0.4) 516px,
    transparent 516px,
    transparent 716px,
    rgba(100, 181, 246, 0.4) 716px,
    rgba(100, 181, 246, 0.4) 728px,
    transparent 728px,
    transparent 928px,
    rgba(100, 181, 246, 0.4) 928px,
    rgba(100, 181, 246, 0.4) 940px,
    transparent 940px,
    transparent 1140px,
    rgba(100, 181, 246, 0.4) 1140px,
    rgba(100, 181, 246, 0.4) 1152px,
    transparent 1152px,
    transparent 1352px,
    rgba(100, 181, 246, 0.4) 1352px,
    rgba(100, 181, 246, 0.4) 1364px,
    transparent 1364px,
    transparent 1564px,
    rgba(100, 181, 246, 0.4) 1564px,
    rgba(100, 181, 246, 0.4) 1576px,
    transparent 1576px,
    transparent 1776px,
    rgba(100, 181, 246, 0.4) 1776px,
    rgba(100, 181, 246, 0.4) 1788px,
    transparent 1788px,
    transparent 1988px,
    rgba(100, 181, 246, 0.4) 1988px,
    rgba(100, 181, 246, 0.4) 2000px,
    transparent 2000px,
    transparent 2200px,
    rgba(100, 181, 246, 0.4) 2200px,
    rgba(100, 181, 246, 0.4) 2212px,
    transparent 2212px,
    transparent 2412px,
    rgba(100, 181, 246, 0.4) 2412px,
    rgba(100, 181, 246, 0.4) 2424px,
    transparent 2424px,
    transparent 2624px,
    rgba(100, 181, 246, 0.4) 2624px,
    rgba(100, 181, 246, 0.4) 2636px
  );
  background-size: 2636px 100%;
  pointer-events: none;
  z-index: 0;
}

/* Orange row separators */
.storage-grid::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    to bottom,
    transparent 0px,
    transparent 80px,
    rgba(255, 165, 0, 0.4) 80px,
    rgba(255, 165, 0, 0.4) 96px
  );
  background-size: 100% 96px;
  pointer-events: none;
  z-index: 0;
}

.row-header {
  background: rgba(15, 52, 96, 0.9);
  color: #64b5f6;
  padding: 12px;
  text-align: center;
  font-weight: bold;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  border: 2px solid rgba(100, 181, 246, 0.5);
  min-height: 80px; /* Increased height for better proportion */
  writing-mode: vertical-rl;
  text-orientation: mixed;
  transition: all 0.3s ease;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  position: relative;
  z-index: 1; /* Ensure headers appear above colored separators */
}

.row-header:hover {
  background: rgba(100, 181, 246, 0.2);
  transform: translateX(1px);
}

.storage-cell {
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 8px;
  padding: 6px;
  background: rgba(15, 52, 96, 0.6);
  min-height: 80px; /* Increased to match row headers */
  display: flex;
  flex-direction: row;
  gap: 4px; /* Increased gap between pallets */
  backdrop-filter: blur(5px);
  transition: all 0.3s ease;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: relative;
  z-index: 1; /* Ensure cells appear above colored separators */
}

.storage-cell:hover {
  background: rgba(15, 52, 96, 0.8);
  border-color: rgba(100, 181, 246, 0.4);
}

.storage-cell.pathway {
  background: rgba(15, 52, 96, 0.3);
  border-color: rgba(255, 255, 255, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
}

.storage-cell.pathway-merged {
  border-radius: 12px;
  border: 2px solid rgba(100, 181, 246, 0.4);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.pathway-content {
  font-weight: bold;
  color: #64b5f6;
  text-align: center;
  font-size: 12px;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  line-height: 1.4;
  opacity: 0.8;
  padding: 8px;
}

.pathway-merged .pathway-content {
  font-size: 14px;
  line-height: 1.6;
}

/* Responsive adjustments - maintain fixed widths for better column visibility */
@media (max-width: 1600px) {
  .grid-header,
  .storage-grid {
    grid-template-columns: 70px repeat(13, 180px);
  }

  .grid-header {
    background-image: repeating-linear-gradient(
      to right,
      transparent 0px,
      transparent 70px,
      rgba(100, 181, 246, 0.3) 70px,
      rgba(100, 181, 246, 0.3) 82px,
      transparent 82px,
      transparent 262px,
      rgba(100, 181, 246, 0.3) 262px,
      rgba(100, 181, 246, 0.3) 274px,
      transparent 274px,
      transparent 454px,
      rgba(100, 181, 246, 0.3) 454px,
      rgba(100, 181, 246, 0.3) 466px,
      transparent 466px,
      transparent 646px,
      rgba(100, 181, 246, 0.3) 646px,
      rgba(100, 181, 246, 0.3) 658px,
      transparent 658px,
      transparent 838px,
      rgba(100, 181, 246, 0.3) 838px,
      rgba(100, 181, 246, 0.3) 850px,
      transparent 850px,
      transparent 1030px,
      rgba(100, 181, 246, 0.3) 1030px,
      rgba(100, 181, 246, 0.3) 1042px,
      transparent 1042px,
      transparent 1222px,
      rgba(100, 181, 246, 0.3) 1222px,
      rgba(100, 181, 246, 0.3) 1234px,
      transparent 1234px,
      transparent 1414px,
      rgba(100, 181, 246, 0.3) 1414px,
      rgba(100, 181, 246, 0.3) 1426px,
      transparent 1426px,
      transparent 1606px,
      rgba(100, 181, 246, 0.3) 1606px,
      rgba(100, 181, 246, 0.3) 1618px,
      transparent 1618px,
      transparent 1798px,
      rgba(100, 181, 246, 0.3) 1798px,
      rgba(100, 181, 246, 0.3) 1810px,
      transparent 1810px,
      transparent 1990px,
      rgba(100, 181, 246, 0.3) 1990px,
      rgba(100, 181, 246, 0.3) 2002px,
      transparent 2002px,
      transparent 2182px,
      rgba(100, 181, 246, 0.3) 2182px,
      rgba(100, 181, 246, 0.3) 2194px,
      transparent 2194px,
      transparent 2374px,
      rgba(100, 181, 246, 0.3) 2374px,
      rgba(100, 181, 246, 0.3) 2386px
    );
    background-size: 2386px 100%;
  }

  .storage-grid::before {
    background: repeating-linear-gradient(
      to right,
      transparent 0px,
      transparent 70px,
      rgba(100, 181, 246, 0.4) 70px,
      rgba(100, 181, 246, 0.4) 82px,
      transparent 82px,
      transparent 262px,
      rgba(100, 181, 246, 0.4) 262px,
      rgba(100, 181, 246, 0.4) 274px,
      transparent 274px,
      transparent 454px,
      rgba(100, 181, 246, 0.4) 454px,
      rgba(100, 181, 246, 0.4) 466px,
      transparent 466px,
      transparent 646px,
      rgba(100, 181, 246, 0.4) 646px,
      rgba(100, 181, 246, 0.4) 658px,
      transparent 658px,
      transparent 838px,
      rgba(100, 181, 246, 0.4) 838px,
      rgba(100, 181, 246, 0.4) 850px,
      transparent 850px,
      transparent 1030px,
      rgba(100, 181, 246, 0.4) 1030px,
      rgba(100, 181, 246, 0.4) 1042px,
      transparent 1042px,
      transparent 1222px,
      rgba(100, 181, 246, 0.4) 1222px,
      rgba(100, 181, 246, 0.4) 1234px,
      transparent 1234px,
      transparent 1414px,
      rgba(100, 181, 246, 0.4) 1414px,
      rgba(100, 181, 246, 0.4) 1426px,
      transparent 1426px,
      transparent 1606px,
      rgba(100, 181, 246, 0.4) 1606px,
      rgba(100, 181, 246, 0.4) 1618px,
      transparent 1618px,
      transparent 1798px,
      rgba(100, 181, 246, 0.4) 1798px,
      rgba(100, 181, 246, 0.4) 1810px,
      transparent 1810px,
      transparent 1990px,
      rgba(100, 181, 246, 0.4) 1990px,
      rgba(100, 181, 246, 0.4) 2002px,
      transparent 2002px,
      transparent 2182px,
      rgba(100, 181, 246, 0.4) 2182px,
      rgba(100, 181, 246, 0.4) 2194px,
      transparent 2194px,
      transparent 2374px,
      rgba(100, 181, 246, 0.4) 2374px,
      rgba(100, 181, 246, 0.4) 2386px
    );
    background-size: 2386px 100%;
  }

  .storage-grid::after {
    background-size: 100% 86px;
  }

  .col-header {
    width: 180px;
    font-size: 14px;
    padding: 10px;
  }

  .row-header {
    font-size: 12px;
    min-height: 70px;
  }

  .storage-cell {
    min-height: 70px;
  }
}

@media (max-width: 1200px) {
  .grid-header,
  .storage-grid {
    grid-template-columns: 60px repeat(13, 160px);
  }

  .grid-header {
    background-image: repeating-linear-gradient(
      to right,
      transparent 0px,
      transparent 60px,
      rgba(100, 181, 246, 0.3) 60px,
      rgba(100, 181, 246, 0.3) 72px,
      transparent 72px,
      transparent 232px,
      rgba(100, 181, 246, 0.3) 232px,
      rgba(100, 181, 246, 0.3) 244px,
      transparent 244px,
      transparent 404px,
      rgba(100, 181, 246, 0.3) 404px,
      rgba(100, 181, 246, 0.3) 416px,
      transparent 416px,
      transparent 576px,
      rgba(100, 181, 246, 0.3) 576px,
      rgba(100, 181, 246, 0.3) 588px,
      transparent 588px,
      transparent 748px,
      rgba(100, 181, 246, 0.3) 748px,
      rgba(100, 181, 246, 0.3) 760px,
      transparent 760px,
      transparent 920px,
      rgba(100, 181, 246, 0.3) 920px,
      rgba(100, 181, 246, 0.3) 932px,
      transparent 932px,
      transparent 1092px,
      rgba(100, 181, 246, 0.3) 1092px,
      rgba(100, 181, 246, 0.3) 1104px,
      transparent 1104px,
      transparent 1264px,
      rgba(100, 181, 246, 0.3) 1264px,
      rgba(100, 181, 246, 0.3) 1276px,
      transparent 1276px,
      transparent 1436px,
      rgba(100, 181, 246, 0.3) 1436px,
      rgba(100, 181, 246, 0.3) 1448px,
      transparent 1448px,
      transparent 1608px,
      rgba(100, 181, 246, 0.3) 1608px,
      rgba(100, 181, 246, 0.3) 1620px,
      transparent 1620px,
      transparent 1780px,
      rgba(100, 181, 246, 0.3) 1780px,
      rgba(100, 181, 246, 0.3) 1792px,
      transparent 1792px,
      transparent 1952px,
      rgba(100, 181, 246, 0.3) 1952px,
      rgba(100, 181, 246, 0.3) 1964px,
      transparent 1964px,
      transparent 2124px,
      rgba(100, 181, 246, 0.3) 2124px,
      rgba(100, 181, 246, 0.3) 2136px
    );
    background-size: 2136px 100%;
  }

  .storage-grid::before {
    background: repeating-linear-gradient(
      to right,
      transparent 0px,
      transparent 60px,
      rgba(100, 181, 246, 0.4) 60px,
      rgba(100, 181, 246, 0.4) 72px,
      transparent 72px,
      transparent 232px,
      rgba(100, 181, 246, 0.4) 232px,
      rgba(100, 181, 246, 0.4) 244px,
      transparent 244px,
      transparent 404px,
      rgba(100, 181, 246, 0.4) 404px,
      rgba(100, 181, 246, 0.4) 416px,
      transparent 416px,
      transparent 576px,
      rgba(100, 181, 246, 0.4) 576px,
      rgba(100, 181, 246, 0.4) 588px,
      transparent 588px,
      transparent 748px,
      rgba(100, 181, 246, 0.4) 748px,
      rgba(100, 181, 246, 0.4) 760px,
      transparent 760px,
      transparent 920px,
      rgba(100, 181, 246, 0.4) 920px,
      rgba(100, 181, 246, 0.4) 932px,
      transparent 932px,
      transparent 1092px,
      rgba(100, 181, 246, 0.4) 1092px,
      rgba(100, 181, 246, 0.4) 1104px,
      transparent 1104px,
      transparent 1264px,
      rgba(100, 181, 246, 0.4) 1264px,
      rgba(100, 181, 246, 0.4) 1276px,
      transparent 1276px,
      transparent 1436px,
      rgba(100, 181, 246, 0.4) 1436px,
      rgba(100, 181, 246, 0.4) 1448px,
      transparent 1448px,
      transparent 1608px,
      rgba(100, 181, 246, 0.4) 1608px,
      rgba(100, 181, 246, 0.4) 1620px,
      transparent 1620px,
      transparent 1780px,
      rgba(100, 181, 246, 0.4) 1780px,
      rgba(100, 181, 246, 0.4) 1792px,
      transparent 1792px,
      transparent 1952px,
      rgba(100, 181, 246, 0.4) 1952px,
      rgba(100, 181, 246, 0.4) 1964px,
      transparent 1964px,
      transparent 2124px,
      rgba(100, 181, 246, 0.4) 2124px,
      rgba(100, 181, 246, 0.4) 2136px
    );
    background-size: 2136px 100%;
  }

  .storage-grid::after {
    background-size: 100% 76px;
  }

  .col-header {
    width: 160px;
    font-size: 12px;
    padding: 8px;
  }

  .row-header {
    font-size: 11px;
    min-height: 60px;
  }

  .storage-cell {
    min-height: 60px;
    padding: 4px;
    gap: 3px;
  }

  .pathway-content {
    font-size: 9px;
  }

  .pathway-merged .pathway-content {
    font-size: 11px;
  }
}

@media (max-width: 768px) {
  .grid-header,
  .storage-grid {
    grid-template-columns: 50px repeat(13, 140px);
  }

  .grid-header {
    background-image: repeating-linear-gradient(
      to right,
      transparent 0px,
      transparent 50px,
      rgba(100, 181, 246, 0.3) 50px,
      rgba(100, 181, 246, 0.3) 62px,
      transparent 62px,
      transparent 202px,
      rgba(100, 181, 246, 0.3) 202px,
      rgba(100, 181, 246, 0.3) 214px,
      transparent 214px,
      transparent 354px,
      rgba(100, 181, 246, 0.3) 354px,
      rgba(100, 181, 246, 0.3) 366px,
      transparent 366px,
      transparent 506px,
      rgba(100, 181, 246, 0.3) 506px,
      rgba(100, 181, 246, 0.3) 518px,
      transparent 518px,
      transparent 658px,
      rgba(100, 181, 246, 0.3) 658px,
      rgba(100, 181, 246, 0.3) 670px,
      transparent 670px,
      transparent 810px,
      rgba(100, 181, 246, 0.3) 810px,
      rgba(100, 181, 246, 0.3) 822px,
      transparent 822px,
      transparent 962px,
      rgba(100, 181, 246, 0.3) 962px,
      rgba(100, 181, 246, 0.3) 974px,
      transparent 974px,
      transparent 1114px,
      rgba(100, 181, 246, 0.3) 1114px,
      rgba(100, 181, 246, 0.3) 1126px,
      transparent 1126px,
      transparent 1266px,
      rgba(100, 181, 246, 0.3) 1266px,
      rgba(100, 181, 246, 0.3) 1278px,
      transparent 1278px,
      transparent 1418px,
      rgba(100, 181, 246, 0.3) 1418px,
      rgba(100, 181, 246, 0.3) 1430px,
      transparent 1430px,
      transparent 1570px,
      rgba(100, 181, 246, 0.3) 1570px,
      rgba(100, 181, 246, 0.3) 1582px,
      transparent 1582px,
      transparent 1722px,
      rgba(100, 181, 246, 0.3) 1722px,
      rgba(100, 181, 246, 0.3) 1734px,
      transparent 1734px,
      transparent 1874px,
      rgba(100, 181, 246, 0.3) 1874px,
      rgba(100, 181, 246, 0.3) 1886px
    );
    background-size: 1886px 100%;
  }

  .storage-grid::before {
    background: repeating-linear-gradient(
      to right,
      transparent 0px,
      transparent 50px,
      rgba(100, 181, 246, 0.4) 50px,
      rgba(100, 181, 246, 0.4) 62px,
      transparent 62px,
      transparent 202px,
      rgba(100, 181, 246, 0.4) 202px,
      rgba(100, 181, 246, 0.4) 214px,
      transparent 214px,
      transparent 354px,
      rgba(100, 181, 246, 0.4) 354px,
      rgba(100, 181, 246, 0.4) 366px,
      transparent 366px,
      transparent 506px,
      rgba(100, 181, 246, 0.4) 506px,
      rgba(100, 181, 246, 0.4) 518px,
      transparent 518px,
      transparent 658px,
      rgba(100, 181, 246, 0.4) 658px,
      rgba(100, 181, 246, 0.4) 670px,
      transparent 670px,
      transparent 810px,
      rgba(100, 181, 246, 0.4) 810px,
      rgba(100, 181, 246, 0.4) 822px,
      transparent 822px,
      transparent 962px,
      rgba(100, 181, 246, 0.4) 962px,
      rgba(100, 181, 246, 0.4) 974px,
      transparent 974px,
      transparent 1114px,
      rgba(100, 181, 246, 0.4) 1114px,
      rgba(100, 181, 246, 0.4) 1126px,
      transparent 1126px,
      transparent 1266px,
      rgba(100, 181, 246, 0.4) 1266px,
      rgba(100, 181, 246, 0.4) 1278px,
      transparent 1278px,
      transparent 1418px,
      rgba(100, 181, 246, 0.4) 1418px,
      rgba(100, 181, 246, 0.4) 1430px,
      transparent 1430px,
      transparent 1570px,
      rgba(100, 181, 246, 0.4) 1570px,
      rgba(100, 181, 246, 0.4) 1582px,
      transparent 1582px,
      transparent 1722px,
      rgba(100, 181, 246, 0.4) 1722px,
      rgba(100, 181, 246, 0.4) 1734px,
      transparent 1734px,
      transparent 1874px,
      rgba(100, 181, 246, 0.4) 1874px,
      rgba(100, 181, 246, 0.4) 1886px
    );
    background-size: 1886px 100%;
  }

  .storage-grid::after {
    background-size: 100% 66px;
  }

  .col-header {
    width: 140px;
    font-size: 11px;
    padding: 6px;
  }

  .row-header {
    font-size: 10px;
    min-height: 50px;
  }

  .storage-cell {
    min-height: 50px;
    padding: 3px;
    gap: 2px;
  }

  .pathway-content {
    font-size: 8px;
  }

  .pathway-merged .pathway-content {
    font-size: 10px;
  }
}
